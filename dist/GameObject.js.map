{"version":3,"sources":["src/GameObject.js"],"names":[],"mappings":"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","file":"src/GameObject.js","sourcesContent":["import React from 'react';\nimport Events from './Events';\n\nimport processChildren from './processChildren';\n\nclass GameObject extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      x: props.initialX,\n      y: props.initialY,\n      width: 0,\n      height: 0,\n      texture: ''\n    };\n  }\n  componentDidMount() {\n    processChildren.call(this, this.props.children, data => {\n      if (data.texture && Object.keys(data.texture).length > 0) {\n        this.setState({\n          texture: data.texture.source,\n          width: data.texture.originalWidth,\n          height: data.texture.originalHeight\n        });\n      }\n      \n      if (data.onUpdate && data.onUpdate.length > 0) {\n        // It would be cool if EventMap could do namespaces, which would definitely help a lot\n        Events.on('update', dt => {\n          data.onUpdate.forEach(updateCall => {\n            updateCall.call(this, dt, this);\n          });\n        });\n      }\n    });\n  }\n  componentWillUnmount() {\n    // TODO: Remove events here\n  }\n  render() {\n    var position = 'absolute';\n\n    var left = this.state.x;\n    var top = this.state.y;\n    var width = this.state.width;\n    var height = this.state.height;\n\n    if (this.state.texture) {\n      var backgroundImage = `url(${this.state.texture})`;\n      var backgroundRepeat = 'no-repeat';\n    }\n    \n    var style = {position, left, top, width, height, backgroundImage, backgroundRepeat};\n\n    return (\n      <div className=\"gameobject\" style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nGameObject.propTypes = {\n  initialX: React.PropTypes.number,\n  initialY: React.PropTypes.number,\n  width: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),\n  height: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string])\n};\n\nGameObject.defaultProps = {\n  initialX: 0,\n  initialY: 0,\n  width: 'auto',\n  height: 'auto'\n};\n\nexport default GameObject;\n"]}