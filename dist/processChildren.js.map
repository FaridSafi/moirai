{"version":3,"sources":["src/processChildren.js"],"names":[],"mappings":";;;;;qBAQwB,eAAe;;;;qBARrB,OAAO;;;;uBAEL,WAAW;;;;wBACV,YAAY;;;;sBAEd,UAAU;;;;;;AAGd,SAAS,eAAe,CAAC,QAAQ,EAAE,QAAQ,EAAE;AAC1D,MAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,qBAAM,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,KAAK,EAAE;AAChD,QAAI,KAAK,CAAC,IAAI,yBAAY,EAAE;AAC1B,UAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;AAElB,UAAI,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;AACtB,YAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;OAC1C;;AAED,UAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,SAAG,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;;AAE9B,SAAG,CAAC,MAAM,GAAG,YAAW;AACtB,YAAI,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC;AACvC,YAAI,CAAC,OAAO,CAAC,cAAc,GAAG,GAAG,CAAC,MAAM,CAAC;;AAEzC,gBAAQ,CAAC,IAAI,CAAC,CAAC;OAChB,CAAC;KACH;;AAED,QAAI,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE;AACxB,OAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAA,CAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KAClE;GACF,CAAC,CAAC;CACJ;;AAAA,CAAC","file":"src/processChildren.js","sourcesContent":["import React from 'react';\n\nimport Texture from './Texture';\nimport Behavior from './Behavior';\n\nimport Events from './Events';\n\n// TODO: Rather use a Promise\nexport default function processChildren(children, callback) {\n  var data = {};\n  \n  React.Children.forEach(children, function (child) {\n    if (child.type === Texture) {\n      data.texture = {};\n\n      if (child.props.source) {\n        data.texture.source = child.props.source;\n      }\n\n      var img = new Image();\n      img.src = data.texture.source;\n      \n      img.onload = function() {\n        data.texture.originalWidth = img.width;\n        data.texture.originalHeight = img.height;\n        \n        callback(data);\n      };\n    }\n\n    if (child.props.onUpdate) {\n      (data.onUpdate = data.onUpdate || []).push(child.props.onUpdate);\n    }\n  });\n};\n"]}