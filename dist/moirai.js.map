{"version":3,"sources":["src/behavior.js","src/game.js","src/gameobject.js","src/scene.js","src/scenedirector.js","src/viewport.js"],"names":[],"mappings":"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","file":"dist/moirai.js","sourcesContent":["import React from 'react';\n\nclass Behavior extends React.Component {\n  render() {\n    return null;\n  }\n}\n\nexport default Behavior;\n","import React from 'react';\n\nimport Viewport from 'moirai/viewport';\nimport SceneDirector from 'moirai/scenedirector'\nimport Scene from 'moirai/scene';\nimport GameObject from 'moirai/gameobject';\n\nclass Game extends React.Component {\n  render() {\n    return (\n      <Viewport width=\"auto\" height=\"auto\">\n        <SceneDirector>\n          <Scene>\n            <GameObject type=\"image\" asset=\"hero.png\" position=\"10, 10\" />\n          </Scene>\n        </SceneDirector>\n      </Viewport>\n    );\n  }\n}\n\nReact.render(<Game />, document.body);\n","import React from 'react';\n\nclass GameObject extends React.Component {\n  render() {\n    var position = 'absolute';\n    \n    var pos = this.props.position;\n    if (typeof pos === 'string') {\n      pos = pos.split(',');\n    }\n    \n    var left = pos[0] + 'px';\n    var top = pos[1] + 'px';\n    \n    var style = {position, left, top};\n    \n    return (\n      <div className=\"gameobject\" style={style}>\n\t\t\t\t{this.props.children}\n      </div>\n    );\n  }\n}\n\nGameObject.defaultProps = {\n  position: '0,0'\n};\n\nexport default GameObject;\n","import React from 'react';\n\nclass Scene extends React.Component {\n  render() {\n    var style = {\n      width: '100%',\n      height: '100%'\n    };\n    \n    return (\n      <div className=\"scene\" style={style}>\n\t\t\t\t{this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Scene;\n","import React from 'react';\n\nclass SceneDirector extends React.Component {\n  render() {\n    var style = {\n      width: '100%',\n      height: '100%'\n    };\n    \n    return (\n      <div className=\"scene-director\" style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default SceneDirector;\n","import React from 'react';\n\nclass Viewport extends React.Component {\n  constructor() {\n    this.state = {\n      windowWidth: 0,\n      windowHeight: 0\n    };\n\n    this.updateDimensions = this.updateDimensions.bind(this);\n  }\n\n  updateDimensions() {\n    this.setState({width: window.innerWidth, height: window.innerHeight});\n  }\n\n  componentWillMount() {\n    this.updateDimensions();\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateDimensions);\n  }\n\n  render() {\n    var width = (this.props.width === 'auto') ? '100%' : this.props.width + 'px';\n    var height = (this.props.height === 'auto') ? '100%' : this.props.height + 'px';\n    var transform = 'scale(1.0, 1.0)';\n\n    var style = {width, height, transform};\n\n    return (\n      <div className=\"viewport\" style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nViewport.defaultProps = {\n  width: 'auto',\n  height: 'auto',\n  mode: 'fit'\n};\n\nexport default Viewport;\n"]}