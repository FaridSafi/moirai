{"version":3,"sources":["src/Asset.js","src/Behavior.js","tmp/amd/Game.js","src/GameObject.js","src/Scene.js","src/SceneDirector.js","src/Viewport.js","src/index.js"],"names":[],"mappings":"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","file":"dist/amd/moirai.js","sourcesContent":["import React from 'react';\n\nclass Asset extends React.Component {\n  \n}\n\nexport default Asset;\n","import React from 'react';\n\nclass Behavior extends React.Component {\n  render() {\n    return null;\n  }\n}\n\nexport default Behavior;\n","define('moirai/game', [\"exports\"], function (exports) {\n  \"use strict\";\n});\n/*import React from 'react';\n\nimport Viewport from './Viewport';\nimport SceneDirector from './SceneDirector'\nimport Scene from './Scene';\nimport GameObject from './GameObject';\n\nclass Game extends React.Component {\n  render() {\n    return (\n      <Viewport>\n        <SceneDirector>\n          <Scene>\n            <GameObject type=\"image\" asset=\"hero.png\" position=\"10, 10\" />\n          </Scene>\n        </SceneDirector>\n      </Viewport>\n    );\n  }\n}\n\nReact.render(<Game />, document.body);\n*/\n","import React from 'react';\n\nclass GameObject extends React.Component {\n  render() {\n    var position = 'absolute';\n    \n    var pos = this.props.position;\n    if (typeof pos === 'string') {\n      pos = pos.split(',');\n    }\n    \n    var left = pos[0] + 'px';\n    var top = pos[1] + 'px';\n    \n    var style = {position, left, top};\n    \n    return (\n      <div className=\"gameobject\" style={style}>\n\t\t\t\t{this.props.children}\n      </div>\n    );\n  }\n}\n\nGameObject.defaultProps = {\n  position: '0,0'\n};\n\nexport default GameObject;\n","import React from 'react';\n\nclass Scene extends React.Component {\n  render() {\n    var style = {\n      width: '100%',\n      height: '100%'\n    };\n    \n    return (\n      <div className=\"scene\" style={style}>\n\t\t\t\t{this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Scene;\n","import React from 'react';\n\nclass SceneDirector extends React.Component {\n  render() {\n    var style = {\n      width: '100%',\n      height: '100%'\n    };\n    \n    return (\n      <div className=\"scene-director\" style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default SceneDirector;\n","import React from 'react';\n\n\nvar scaleHeightToFit = function() {\n  var scaleFactor = 1.0;\n  var height = this.props.height;\n  \n  if (height > this.state.containerHeight) {\n    scaleFactor = this.state.containerHeight / height;\n  }\n  \n  return scaleFactor;\n};\n\nvar scaleWidthToFit = function() {\n  var scaleFactor = 1.0;\n  var width = this.props.width;\n\n  if (width > this.state.containerWidth) {\n    scaleFactor = this.state.containerHeight / width;\n  }\n\n  return scaleFactor;\n};\n\nclass Viewport extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      containerWidth: 0,\n      containerHeight: 0\n    };\n\n    this.updateDimensions = this.updateDimensions.bind(this);\n  }\n\n  updateDimensions() {\n    this.setState({containerWidth: window.innerWidth, containerHeight: window.innerHeight});\n  }\n\n  componentWillMount() {\n    this.updateDimensions();\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateDimensions);\n  }\n\n  render() {\n    var autoSize = false;\n    var scaleFactor = 1.0;\n    \n    switch (this.props.mode) {\n      case 'scaleToFit': {\n        scaleFactor = Math.min(scaleWidthToFit.call(this), scaleHeightToFit.call(this));\n        break;\n      }\n      case 'scaleWidthToFit': {\n        scaleFactor = scaleWidthToFit.call(this);\n        break;\n      }\n      case 'scaleHeightToFit': {\n        scaleFactor = scaleHeightToFit.call(this);\n        break;\n      }\n      case 'fill':\n        autoSize = true;\n      default:\n        break;\n    }\n    \n    var width = this.props.width + 'px';\n    var height = this.props.height + 'px';\n    \n    if (autoSize) {\n      width = '100%';\n      height = '100%';\n    }\n    \n    var transform = `scale(${scaleFactor}, ${scaleFactor})`;\n\n    var position = 'absolute';\n    \n    var style = {position, width, height, transform};\n    \n    if (!autoSize && this.props.center) {\n      style.left = '50%';\n      style.top = '50%';\n      style.marginLeft = (this.props.width / (-2)) + 'px';\n      style.marginTop = (this.props.height / (-2)) + 'px';\n    }\n\n    return (\n      <div className=\"viewport\" style={style}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nViewport.defaultProps = {\n  width: 800,\n  height: 480,\n  mode: 'scaleToFit',\n  center: true\n};\n\nViewport.propTypes = {\n  width: React.PropTypes.number,\n  height: React.PropTypes.number,\n  mode: React.PropTypes.string,\n  center: React.PropTypes.bool\n};\n\nexport default Viewport;\n","import Game from './Game';\r\nimport Viewport  from './Viewport';\r\nimport GameObject from './GameObject';\r\nimport Scene from './Scene';\r\nimport SceneDirector from './SceneDirector';\r\n\r\nexport default {Game, Viewport, GameObject, Scene, SceneDirector};\r\n"]}